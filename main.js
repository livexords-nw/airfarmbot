'use strict';const a0_0x198dcf=a0_0x2606;(function(_0x441804,_0x1f044a){const _0x28844b=a0_0x2606,_0x5e5eb3=_0x441804();while(!![]){try{const _0x1ac5b7=-parseInt(_0x28844b(0x1f9))/0x1+-parseInt(_0x28844b(0x210))/0x2*(parseInt(_0x28844b(0x1c8))/0x3)+-parseInt(_0x28844b(0x1ff))/0x4*(-parseInt(_0x28844b(0x1df))/0x5)+parseInt(_0x28844b(0x20f))/0x6+parseInt(_0x28844b(0x1ad))/0x7+parseInt(_0x28844b(0x1d0))/0x8+-parseInt(_0x28844b(0x207))/0x9;if(_0x1ac5b7===_0x1f044a)break;else _0x5e5eb3['push'](_0x5e5eb3['shift']());}catch(_0x4709cd){_0x5e5eb3['push'](_0x5e5eb3['shift']());}}}(a0_0x4ddc,0xc58cd));process['on'](a0_0x198dcf(0x1bc),_0xf88b7f=>{const _0x43bbab=a0_0x198dcf;if(_0xf88b7f[_0x43bbab(0x212)]&&_0xf88b7f[_0x43bbab(0x212)]['includes']('TIMEOUT')){}else console[_0x43bbab(0x1eb)](_0x43bbab(0x1de),_0xf88b7f);}),process['on'](a0_0x198dcf(0x20a),(_0x526614,_0x2dbfcf)=>{const _0x34af3f=a0_0x198dcf;if(_0x526614&&_0x526614[_0x34af3f(0x212)]&&_0x526614[_0x34af3f(0x212)][_0x34af3f(0x1d4)](_0x34af3f(0x1d1))){}else console[_0x34af3f(0x1eb)](_0x34af3f(0x1fa),_0x526614);});const fs=require('fs'),path=require(a0_0x198dcf(0x20d)),readline=require(a0_0x198dcf(0x1dc)),{exec}=require(a0_0x198dcf(0x1cd)),{promisify}=require('util'),execPromise=promisify(exec),{TelegramClient,Api}=require(a0_0x198dcf(0x21c)),{StringSession}=require(a0_0x198dcf(0x21a)),APP_ID=0x10e3ace,APP_HASH=a0_0x198dcf(0x20e);function log(_0x4f8023,_0x15e343=''){const _0x7803a4=a0_0x198dcf,_0x215110=new Date()['toISOString']()[_0x7803a4(0x215)]('T',_0x7803a4(0x1bf))[_0x7803a4(0x213)]('.')[0x0];console[_0x7803a4(0x206)]('\x1b[90m['+_0x215110+']\x1b[0m\x20'+_0x15e343+_0x4f8023+'\x1b[0m');}function readConfig(_0x5c359e){const _0x28c5f9=a0_0x198dcf;return JSON['parse'](fs['readFileSync'](_0x5c359e,_0x28c5f9(0x1da)));}function readLines(_0x2e80aa){const _0x3339e1=a0_0x198dcf;return fs[_0x3339e1(0x1f4)](_0x2e80aa,_0x3339e1(0x1da))[_0x3339e1(0x213)]('\x0a')[_0x3339e1(0x1cb)](_0x484799=>_0x484799[_0x3339e1(0x1ec)]()!=='');}function readSessions(_0x41cb5f){const _0x4948d3=a0_0x198dcf,_0x6f0902=[];for(const _0xeb097e of readLines(_0x41cb5f)){const _0x1bf97f=_0xeb097e[_0x4948d3(0x213)](',')[_0x4948d3(0x1d2)](_0x1118df=>_0x1118df['trim']());_0x1bf97f[_0x4948d3(0x1c7)]===0x3&&_0x6f0902[_0x4948d3(0x1d7)]({'sessionName':_0x1bf97f[0x0],'directory':_0x1bf97f[0x1],'command':_0x1bf97f[0x2]});}return _0x6f0902;}async function autoGitPull(_0x460d8d,_0x305aa1){const _0xe8b3b7=a0_0x198dcf;if(!_0x305aa1){log(_0xe8b3b7(0x217),_0xe8b3b7(0x20c));return;}for(const {directory:_0x4506c5}of _0x460d8d){log(_0xe8b3b7(0x1b0)+_0x4506c5+'\x27.',_0xe8b3b7(0x1c0));try{const {stdout:_0x5c26ea,stderr:_0x39c3e2}=await execPromise(_0xe8b3b7(0x21e)+_0x4506c5+_0xe8b3b7(0x20b));_0x39c3e2?log(_0xe8b3b7(0x208)+_0x4506c5+_0xe8b3b7(0x203)+_0x39c3e2,_0xe8b3b7(0x1f7)):(log('✅\x20Repository\x20in\x20\x27'+_0x4506c5+_0xe8b3b7(0x1a9),_0xe8b3b7(0x1e1)),log(_0xe8b3b7(0x1e5)+_0x5c26ea,_0xe8b3b7(0x1c0)));}catch(_0x360e98){log(_0xe8b3b7(0x1b1)+_0x4506c5+_0xe8b3b7(0x203)+_0x360e98,'\x1b[91m');}}}async function manageSessions(_0x2f5b21){const _0x3a61f3=a0_0x198dcf;for(const {sessionName:_0x27c7f7,directory:_0x13e946,command:_0x261208}of _0x2f5b21){try{process[_0x3a61f3(0x1e2)](_0x13e946);}catch(_0x2f232f){log('❌\x20Failed\x20to\x20change\x20directory\x20to\x20\x27'+_0x13e946+_0x3a61f3(0x203)+_0x2f232f,_0x3a61f3(0x1f7));continue;}try{await execPromise(_0x3a61f3(0x216)+_0x27c7f7),log('🟢\x20Session\x20\x27'+_0x27c7f7+_0x3a61f3(0x1fe),_0x3a61f3(0x1e1));}catch(_0x48926f){log(_0x3a61f3(0x1ea)+_0x27c7f7+'\x27',_0x3a61f3(0x20c));try{const {stderr:_0x2a434e}=await execPromise(_0x3a61f3(0x1f0)+_0x27c7f7+'\x20sh\x20-c\x20\x22'+_0x261208+'\x22');_0x2a434e?log(_0x3a61f3(0x1bb)+_0x27c7f7+'\x27:\x20'+_0x2a434e,_0x3a61f3(0x1f7)):log(_0x3a61f3(0x1f3)+_0x27c7f7+_0x3a61f3(0x204),_0x3a61f3(0x1e1));}catch(_0x3e985a){log(_0x3a61f3(0x1bb)+_0x27c7f7+'\x27:\x20'+_0x3e985a,_0x3a61f3(0x1f7));}}}}function readAccountFile(_0x3efa16){const _0x4a0353=a0_0x198dcf,_0x1a0f55=[];for(const _0x56c2ef of readLines(_0x3efa16)){const _0x5ddf68=_0x56c2ef[_0x4a0353(0x213)](',')['map'](_0x59a049=>_0x59a049[_0x4a0353(0x1ec)]());if(_0x5ddf68[_0x4a0353(0x1c7)]<0x2)continue;const _0x483707=_0x5ddf68[0x0],_0x203751=[];for(let _0x1c7a9f=0x1;_0x1c7a9f<_0x5ddf68[_0x4a0353(0x1c7)];_0x1c7a9f++){const _0x30bd43=_0x5ddf68[_0x1c7a9f][_0x4a0353(0x213)]('|')[_0x4a0353(0x1d2)](_0xd4da72=>_0xd4da72[_0x4a0353(0x1ec)]());if(_0x30bd43[_0x4a0353(0x1c7)]>=0x2){const _0x6e041e=_0x30bd43[0x0],_0x532a39=_0x30bd43[0x1],_0x5909cd=_0x30bd43[_0x4a0353(0x1c7)]>=0x3&&_0x30bd43[0x2][_0x4a0353(0x1b4)]()==='raw';_0x203751['push']({'username':_0x6e041e,'dapp_url':_0x532a39,'raw':_0x5909cd});}}_0x1a0f55['push']({'phone':_0x483707,'queries':_0x203751});}return _0x1a0f55;}function a0_0x4ddc(){const _0x14b116=['length','3XhotUe','userId','className','filter','config_bot.json','child_process','🔑\x20Session\x20for\x20','stdin','12349416YlPvnU','TIMEOUT','map','writeFileSync','includes','stdout','join','push','indexOf','invoke','utf8','📥\x20Response\x20for\x20','readline','stringify','Uncaught\x20Exception:','185705zdwvVt','Query\x20not\x20found','\x1b[92m','chdir','close','queries','📤\x20','session','⚠️\x20\x20Warning:\x20termux-wake-lock\x20failed:\x20','termux','termux-wake-lock','🟡\x20Starting\x20session:\x20\x27','error','trim','android','✅\x20Signed\x20in\x20as\x20','\x20minutes...','tmux\x20new-session\x20-d\x20-s\x20','accessHash','question','✅\x20Session\x20\x27','readFileSync','\x20saved\x20to\x20','inputPeerChannel','\x1b[91m','tgWebAppData=','702197cFLBql','Unhandled\x20Rejection:','📝\x20Please\x20enter\x20the\x20code\x20you\x20received:\x20','🔐\x20Please\x20enter\x20your\x20password\x20(if\x20required):\x20','RequestWebView','\x27\x20is\x20already\x20running.','156mCkghu','🚀\x20Running\x20Auto\x20Query\x20System...','createInterface','catch','\x27:\x20','\x27\x20created\x20successfully.','❌\x20Request\x20query\x20failed\x20for\x20','log','16128936GfMLmF','❌\x20Failed\x20to\x20update\x20repository\x20in\x20\x27','auto_run','unhandledRejection','\x22\x20pull','\x1b[93m','path','ecb718e2f356a062fce2bbd7af4ac76b','6597474TGjgXT','2185840SrzUhY','account.txt','message','split','session.txt','replace','tmux\x20has-session\x20-t\x20','🛑\x20Skipping\x20Git\x20updates\x20as\x20per\x20configuration.','raw','connect','telegram/sessions','InputPeerUser','telegram','💾\x20Query\x20for\x20','git\x20-C\x20\x22','messages','\x27\x20updated\x20successfully.','substring','😴\x20Sleeping\x20for\x20','username','2132417VnqDpg','auto_query','Client\x20error:\x20','📂\x20Updating\x20repository\x20in\x20\x27','❌\x20Error\x20running\x20git\x20pull\x20in\x20\x27','existsSync','Entity\x20is\x20a\x20channel\x20and\x20not\x20a\x20bot\x20user','toLowerCase','getInputEntity','📴\x20Termux\x20mode\x20disabled.','dapp_url','\x1b[96m','sessions.txt','save','❌\x20Failed\x20to\x20create\x20session\x20\x27','uncaughtException','phone','disconnect','\x20~\x20','\x1b[94m',';\x20please\x20follow\x20the\x20ToS.','🛑\x20TMUX\x20session\x20management\x20disabled\x20since\x20Termux\x20mode\x20is\x20disabled.','sessions','mkdirSync','bot','appendFileSync'];a0_0x4ddc=function(){return _0x14b116;};return a0_0x4ddc();}function readScriptFile(_0x459ccf){const _0x41da8a=a0_0x198dcf,_0x599a43={};for(const _0x58b2e2 of readLines(_0x459ccf)){if(_0x58b2e2[_0x41da8a(0x1d4)](',')){const [_0x3cb37a,_0x430fa3]=_0x58b2e2['split'](',',0x2);_0x599a43[_0x3cb37a[_0x41da8a(0x1ec)]()]=_0x430fa3['trim']();}}return _0x599a43;}function sanitizePhone(_0xcd2178){return _0xcd2178['replace'](/\D/g,'');}function a0_0x2606(_0x2ce643,_0x4fb47f){const _0x4ddc04=a0_0x4ddc();return a0_0x2606=function(_0x260688,_0x10d888){_0x260688=_0x260688-0x1a9;let _0x509b00=_0x4ddc04[_0x260688];return _0x509b00;},a0_0x2606(_0x2ce643,_0x4fb47f);}function prompt(_0x298a9d){const _0x1e2fb4=a0_0x198dcf,_0x5b1d0d=readline[_0x1e2fb4(0x201)]({'input':process[_0x1e2fb4(0x1cf)],'output':process[_0x1e2fb4(0x1d5)]});return new Promise(_0xcf90ea=>_0x5b1d0d[_0x1e2fb4(0x1f2)](_0x298a9d,_0x446b13=>{const _0x4de786=_0x1e2fb4;_0x5b1d0d[_0x4de786(0x1e3)](),_0xcf90ea(_0x446b13[_0x4de786(0x1ec)]());}));}async function loginForAccount(_0x414668){const _0x29e019=a0_0x198dcf;log(_0x29e019(0x1ce)+_0x414668+'\x20not\x20found.\x20Starting\x20login\x20process...',_0x29e019(0x20c));const _0x12a502=new StringSession(''),_0x234d68=new TelegramClient(_0x12a502,APP_ID,APP_HASH,{'connectionRetries':0x5});await _0x234d68['start']({'phoneNumber':()=>_0x414668,'phoneCode':()=>prompt(_0x29e019(0x1fb)),'password':()=>prompt(_0x29e019(0x1fc)),'onError':_0x687ea8=>{const _0x1c2423=_0x29e019;console[_0x1c2423(0x1eb)](_0x687ea8);}}),log(_0x29e019(0x1ee)+_0x234d68[_0x29e019(0x1e6)][_0x29e019(0x1c9)]+_0x29e019(0x1c1),_0x29e019(0x1e1));const _0x1f05b0=_0x234d68[_0x29e019(0x1e6)][_0x29e019(0x1ba)]();return await _0x234d68[_0x29e019(0x1be)](),_0x1f05b0;}async function ensureSessionForAccount(_0x39dd27){const _0x56fe40=a0_0x198dcf,_0x59d8a5=sanitizePhone(_0x39dd27),_0x474ac8=path[_0x56fe40(0x1d6)](_0x56fe40(0x21c),_0x56fe40(0x1c3),_0x59d8a5),_0x34b63b=path[_0x56fe40(0x1d6)](_0x474ac8,_0x56fe40(0x214));if(!fs[_0x56fe40(0x1b2)](_0x34b63b)){fs[_0x56fe40(0x1c4)](_0x474ac8,{'recursive':!![]});const _0x3bb7d7=await loginForAccount(_0x39dd27);return fs[_0x56fe40(0x1d3)](_0x34b63b,_0x3bb7d7,_0x56fe40(0x1da)),_0x3bb7d7;}else return fs[_0x56fe40(0x1f4)](_0x34b63b,_0x56fe40(0x1da));}async function requestQueryForAccount(_0xc6d98a,_0x3dd0e4){const _0x35492b=a0_0x198dcf;try{let _0x56e1b5=await _0xc6d98a[_0x35492b(0x1b5)](_0x3dd0e4['username']);if(_0x56e1b5[_0x35492b(0x1ca)]===_0x35492b(0x1f6)||_0x56e1b5[_0x35492b(0x1ca)]==='InputPeerChannel'){const _0x39006c=await _0xc6d98a['getEntity'](_0x3dd0e4[_0x35492b(0x1ac)]);if(_0x39006c[_0x35492b(0x1c5)])_0x56e1b5=new Api[(_0x35492b(0x21b))]({'userId':_0x39006c['id'],'accessHash':_0x39006c[_0x35492b(0x1f1)]});else throw new Error(_0x35492b(0x1b3));}const _0x1e65f1=await _0xc6d98a[_0x35492b(0x1d9)](new Api[(_0x35492b(0x21f))][(_0x35492b(0x1fd))]({'peer':_0x56e1b5,'bot':_0x56e1b5,'fromBotMenu':![],'url':_0x3dd0e4[_0x35492b(0x1b7)],'platform':_0x35492b(0x1ed)}));log(_0x35492b(0x1db)+_0x3dd0e4[_0x35492b(0x1ac)]+':\x20'+JSON[_0x35492b(0x1dd)](_0x1e65f1),_0x35492b(0x1c0));if(_0x1e65f1['url']){const _0x305fec=new URL(_0x1e65f1['url']),_0x43bc89=_0x305fec['hash'];if(_0x43bc89){const _0x2e940a=_0x43bc89[_0x35492b(0x1aa)](0x1),_0x2ff63f=_0x35492b(0x1f8),_0x5333a7=_0x2e940a[_0x35492b(0x1d8)](_0x2ff63f);if(_0x5333a7!==-0x1){let _0x1f2e59=_0x2e940a[_0x35492b(0x1aa)](_0x5333a7+_0x2ff63f['length']);const _0x385286=_0x1f2e59[_0x35492b(0x1d8)]('&');return _0x385286!==-0x1&&(_0x1f2e59=_0x1f2e59[_0x35492b(0x1aa)](0x0,_0x385286)),!_0x3dd0e4[_0x35492b(0x218)]?decodeURIComponent(_0x1f2e59):_0x1f2e59;}}}return _0x35492b(0x1e0);}catch(_0x1b9b18){return log(_0x35492b(0x205)+_0x3dd0e4[_0x35492b(0x1ac)]+':\x20'+_0x1b9b18,_0x35492b(0x1f7)),_0x35492b(0x1e0);}}async function autoQuerySystem(){const _0x20a9f4=a0_0x198dcf,_0x251569=readAccountFile(_0x20a9f4(0x211)),_0xaefcd=readScriptFile('script_bot.txt'),_0x3cd94f={};for(const _0x3d006b of _0x251569){const _0x17e183=await ensureSessionForAccount(_0x3d006b[_0x20a9f4(0x1bd)]),_0x9deba=new TelegramClient(new StringSession(_0x17e183),APP_ID,APP_HASH,{'connectionRetries':0x5});await _0x9deba[_0x20a9f4(0x219)](),_0x9deba['on'](_0x20a9f4(0x1eb),_0x3a6ed4=>{const _0xcbf569=_0x20a9f4;!_0x3a6ed4[_0xcbf569(0x212)]['includes']('TIMEOUT')&&log(_0xcbf569(0x1af)+_0x3a6ed4,_0xcbf569(0x1f7));});for(const _0x3e7955 of _0x3d006b[_0x20a9f4(0x1e4)]){const _0x7d47a3=await requestQueryForAccount(_0x9deba,_0x3e7955);if(_0xaefcd[_0x3e7955[_0x20a9f4(0x1ac)]]){const _0x2bf1e6=_0xaefcd[_0x3e7955[_0x20a9f4(0x1ac)]];!_0x3cd94f[_0x3e7955['username']]&&(fs[_0x20a9f4(0x1d3)](_0x2bf1e6,'','utf8'),_0x3cd94f[_0x3e7955[_0x20a9f4(0x1ac)]]=!![]),fs[_0x20a9f4(0x1c6)](_0x2bf1e6,_0x7d47a3+'\x0a','utf8'),log(_0x20a9f4(0x21d)+_0x3e7955[_0x20a9f4(0x1ac)]+_0x20a9f4(0x1f5)+_0x2bf1e6,'\x1b[92m');}}await _0x9deba[_0x20a9f4(0x1be)]();}}async function main(){const _0x5c23b1=a0_0x198dcf,_0xabfbda=readConfig(_0x5c23b1(0x1cc));if(_0xabfbda[_0x5c23b1(0x1e8)])try{await execPromise(_0x5c23b1(0x1e9));}catch(_0x3ec4cc){log(_0x5c23b1(0x1e7)+_0x3ec4cc,_0x5c23b1(0x20c));}else log(_0x5c23b1(0x1b6),'\x1b[93m');_0xabfbda[_0x5c23b1(0x1ae)]&&(log(_0x5c23b1(0x200),_0x5c23b1(0x1b8)),await autoQuerySystem());const _0x54c79f=readSessions(_0x5c23b1(0x1b9));await autoGitPull(_0x54c79f,_0xabfbda['update_repos']);if(_0xabfbda[_0x5c23b1(0x1e8)])while(_0xabfbda[_0x5c23b1(0x209)]){await manageSessions(_0x54c79f),log(_0x5c23b1(0x1ab)+_0xabfbda['delay_minutes']+_0x5c23b1(0x1ef),_0x5c23b1(0x1c0)),await new Promise(_0x35f309=>setTimeout(_0x35f309,_0xabfbda['delay_minutes']*0x3c*0x3e8));}else log(_0x5c23b1(0x1c2),_0x5c23b1(0x20c));}main()[a0_0x198dcf(0x202)](_0x87e427=>{const _0x2a1b27=a0_0x198dcf;log('❌\x20'+_0x87e427,_0x2a1b27(0x1f7));});